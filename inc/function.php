<?php// Default timezonedate_default_timezone_set('Asia/Jakarta');//function isMobile() {    //cek device    return preg_match("/(android|avantgo|blackberry|bolt|boost|cricket|docomo|fone|hiptop|mini|mobi|palm|phone|pie|tablet|up\.browser|up\.link|webos|wos)/i", $_SERVER["HTTP_USER_AGENT"]);}function now_year($e) {    if ($e == "Y") {        print $now_year = date("Y");    } else {        print $now_year = date("y");    }    // return $now_year;}function kdauto($tabel, $inisial) {    $struktur = mysql_query("SELECT * FROM $tabel");    $field = mysql_field_name($struktur, 0);    $panjang = mysql_field_len($struktur, 0);    $qry = mysql_query("SELECT max(" . $field . ") FROM " . $tabel);    $row = mysql_fetch_array($qry);    if ($row[0] == "") {        $angka = 0;    } else {        $angka = substr($row[0], strlen($inisial));    }    $angka++;    $angka = strval($angka);    $tmp = "";    for ($i = 1; $i <= ($panjang - strlen($inisial) - strlen($angka)); $i++) {        $tmp = $tmp . "";    }    return $inisial . $tmp . $angka;}// Konvesi dd-mm-yyyy -> yyyy-mm-ddfunction tgl_ind_to_eng($tgl) {    $tgl_eng = substr($tgl, 6, 4) . "-" . substr($tgl, 3, 2) . "-" . substr($tgl, 0, 2);    return $tgl_eng;}// Konvesi yyyy-mm-dd -> dd-mm-yyyyfunction tgl_eng_to_ind($tgl) {    $tgl_ind = substr($tgl, 8, 2) . "-" . substr($tgl, 5, 2) . "-" . substr($tgl, 0, 4);    return $tgl_ind;}function datetime_ind_to_eng($tgl) {    $date_eng = substr($tgl, 6, 4) . "-" . substr($tgl, 3, 3) . "-" . substr($tgl, 0, 2);    return $date_eng;}function format_angka($angka) {    $hasil = number_format($angka, 0, ",", ".");    return $hasil;}function tanggalIndo($date) {    $BulanIndo = array("Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember");    $tahun = substr($date, 0, 4);    $bulan = substr($date, 5, 2);    $tgl = substr($date, 8, 2);    $result = $tgl . " " . $BulanIndo[(int) $bulan - 1] . " " . $tahun;    return $result;}function modalView($modalTitle) {?>    <div class = "modal fade" id = "myModal" tabindex = "-1" role = "dialog" aria-labelledby = "myModalLabel" aria-hidden = "true">        <div class = "modal-dialog">            <div class = "modal-content">                <div class = "modal-header">                    <button type = "button" class = "close" data-dismiss = "modal">                        <span aria-hidden = "true">&times;</span><span class = "sr-only">Close</span>                    </button>                    <h4 class = "modal-title" id = "myModalLabel"><?=$modalTitle?></h4>                </div>                                <div class = "modal-body"></div>                <div class = "modal-footer">                    <button type = "button" class = "btn btn-default" data-dismiss = "modal">Close</button>                </div>            </div>        </div>    </div><?php}function getBulan() {    $query = mysql_query("select * from wtp_bulan");    while($row = mysql_fetch_array($query)){?>    <option value="<?=$row['id']?>"> <?=$row['namabulan']?></option><?php    }}function namaBulan($id) {    $query = mysql_query("select * from wtp_bulan where id = '$id'");    $data = mysql_fetch_array($query);    $data = $data['skbulan'];        return $data;}function getTahun() {    for($i=2010; $i<=date("Y"); $i++){ ?>    <option value="<?=$i?>"> <?=$i?></option><?php    }}function getInfotarif() {    $query = mysql_query("SELECT * FROM wtp_tarif");    while($row = mysql_fetch_array($query)){        echo '<option value="'.$row['id'].'"> '.$row['namakelas'].'</option>';    }}function pembulatan_harga($angka, $digit, $minimal) {    $digitValue = substr($angka, -($digit));    $bulat = 0;    $nolnol = "";        for($i=1; $i<=$digit; $i++){        $nolnol.="0";    }        if($digitValue < $minimal && $digit != $nolnol){        $x1 = $minimal-$digitValue;        $bulat = $angka+$x1;    }else{        $bulat = $angka;    }        return $bulat;}function pembulatan_angka($angka, $digit, $minimal) {    $digitValue = substr($angka, -($digit));    $bulat = 0;    $nolnol = "";        for($i=1; $i<=$digit; $i++){        $nolnol.="0";    }        if($digitValue < $minimal && $digit != $nolnol){        $x1 = $minimal-$digitValue;        $bulat = $angka+$x1;    }else{        $x1 = 0;        $bulat = $angka;    }        return $x1;}function countRec($fname, $tname, $where) {    $sql = "SELECT count($fname) FROM $tname $where";    $result = mysql_query($sql);    while ($row = mysql_fetch_array($result)) {        return $row[0];    }}//    if($jum_pemakaian > 1 && $jum_pemakaian <= $kubik1){//        echo 1;//        $m3Tarif1 = $jum_pemakaian;        //        $m3Tarif2 = 0;//        $m3Tarif3 = 0;//        $m3Tarif4 = 0;//    }elseif ($jum_pemakaian > $kubik1 && $jum_pemakaian <= $kubik2) {//        echo 2;//        $m3Tarif1 = $kubik1;//        $m3Tarif2 = $jum_pemakaian-$kubik1;//        $m3Tarif3 = 0;//        $m3Tarif4 = 0;//    }elseif ($jum_pemakaian > $kubik2 && $jum_pemakaian <= $kubik3) {//        echo 3;//        $m3Tarif1 = $kubik1;//        $m3Tarif2 = $kubik2;//        $m3Tarif3 = 0;//        $m3Tarif4 = 0;//    }  elseif($jum_pemakaian > $kubik3) {//        echo 4;//        $m3Tarif1 = $kubik1;//        $m3Tarif2 = $kubik2-$m3Tarif1;//        $m3Tarif3 = $kubik3-$m3Tarif1;//        $m3Tarif4 = $jum_pemakaian-$m3Tarif3-$m3Tarif2;//    }//    //    $subTotal1 = round($pakai1*$m3Tarif1);//    $subTotal2 = round($pakai2*$m3Tarif2);//    $subTotal3 = round($pakai3*$m3Tarif3);//    $subTotal4 = round($pakai4*$m3Tarif4);//    //    $subTotal = round($subTotal1+$subTotal2+$subTotal3+$subTotal4);        //    $total_bayar = round($subTotal+$abodemen+$denda);//    //    $pembulatan_angka = pembulatan_angka($total_bayar, 2, 100);//    $total_bayar = pembulatan_harga($total_bayar, 2, 100);            